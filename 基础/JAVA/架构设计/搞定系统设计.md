《搞定系统设计》 徐江翻译
动态内容缓存是一个相对新的概念，它可以基于请求路径、查询字符串、cookie和请求头缓存HTML页面
CDN回退，检测CDN故障的能力，不依赖单一CDN，一个CDN故障就要准备切换到备用CDN

无状态网络层：集群中每个web服务器都可以经由数据库访问状态数据
- 有状态的架构
- 无状态的架构：用户的HTTP请求可以发给任意web服务器，然后web服务器从共享的数据存储中拉取数据。状态数据存储在共享数据存储而非WEB服务器中。

在使用分片键时，最重要的标准之一是选择一个可以让数据均匀分布的键。当Shard被耗尽时，就需要更新用于分片的哈希函数，然后把数据移到别的地方去，一致性哈希算法它就是解决这个问题的常用技术。
下面列出扩展系统以支持百万量级用户的几个技术要点：
- 让网络层无状态
- 每一层都要有冗余
- 尽量多缓存数据
- 支持多个数据中心
- 用CDN来承接静态资源
- 通过分片来扩展数据层
- 把不同架构层分成不同的服务
- 监控你的系统并使用自动化工具

每个程序员都应该知道的耗时：
谷歌的Dean博士在其在2010的文章中揭示了典型计算机操作的时长：
从网络中顺序读取1MB数据：10ms
从硬盘中顺序读取1MB数据：30ms
将数据包从美洲发送到欧洲，再从欧洲返回美洲：150ms

雪花算法，时间位41位，ID生成器可以工作69年
时钟同步-网络时间协议（NTP）是这个问题的最流行的解决方案

301重定向：永久重定向
302重定向：暂时重定向

长URL转短URL：